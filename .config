############################################
# Target: SL3000-EMMC
############################################
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_sl3000-emmc=y

############################################
# 工具链优化
############################################
CONFIG_GCC_USE_LIBQUADMATH=n
CONFIG_CCACHE=y
CONFIG_DEVEL=y
CONFIG_BUILD_LOG=y

############################################
# 基础系统
############################################
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_procd=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_urandom-seed=y
CONFIG_PACKAGE_urngd=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_logd=y

############################################
# LuCI
############################################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

############################################
# WiFi (MT7981)
############################################
CONFIG_PACKAGE_kmod-mt76=y
CONFIG_PACKAGE_kmod-mt7981-firmware=y
CONFIG_PACKAGE_mt7981-wo-firmware=y

############################################
# 交换机 / DSA
############################################
CONFIG_PACKAGE_kmod-mt7530=y
CONFIG_PACKAGE_kmod-dsa=y
CONFIG_PACKAGE_kmod-dsa-mt7530=y

############################################
# eMMC 驱动
############################################
CONFIG_PACKAGE_kmod-mmc=y
CONFIG_PACKAGE_kmod-mmc-mtk=y
# CONFIG_PACKAGE_kmod-mmc-spi is not set

############################################
# USB（只保留必要的）
############################################
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb2=y

############################################
# LED / GPIO
############################################
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y
CONFIG_PACKAGE_kmod-leds-gpio=y

############################################
# 安全 / 加密
############################################
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_wpad-openssl=y

############################################
# U-Boot 工具
############################################
CONFIG_PACKAGE_uboot-envtools=y
CONFIG_PACKAGE_fitblk=y

############################################
# Passwall2（最小依赖 + Xray + SS）
############################################
CONFIG_PACKAGE_luci-app-passwall2=y

# Passwall2 基础依赖
CONFIG_PACKAGE_ip-full=y
CONFIG_PACKAGE_dns2socks=y
CONFIG_PACKAGE_ipt2socks=y
CONFIG_PACKAGE_microsocks=y

# Xray
CONFIG_PACKAGE_xray-core=y

# Shadowsocks-libev
CONFIG_PACKAGE_shadowsocks-libev-ss-local=y
CONFIG_PACKAGE_shadowsocks-libev-ss-redir=y
CONFIG_PACKAGE_shadowsocks-libev-ss-server=y
CONFIG_PACKAGE_shadowsocks-libev-ss-tunnel=y

# Hysteria2（可选）
# CONFIG_PACKAGE_hysteria is not set

############################################
# Docker（最小依赖）
############################################
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_docker-compose=y
CONFIG_PACKAGE_luci-app-dockerman=y

# Docker 依赖
CONFIG_PACKAGE_kmod-fs-overlay=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-br-netfilter=y
CONFIG_PACKAGE_kmod-nf-conntrack=y
CONFIG_PACKAGE_kmod-nf-conntrack6=y
CONFIG_PACKAGE_kmod-nf-nat=y
CONFIG_PACKAGE_kmod-nf-nat6=y
CONFIG_PACKAGE_kmod-veth=y

############################################
# 常用工具
############################################
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_vim=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y

############################################
# 禁用所有无关模块（声卡 / 摄像头 / 打印机 / 蓝牙 / GPU / USB 全家桶）
############################################
# CONFIG_PACKAGE_kmod-sound-core is not set
# CONFIG_PACKAGE_kmod-video-core is not set
# CONFIG_PACKAGE_kmod-usb-printer is not set
# CONFIG_PACKAGE_kmod-bluetooth is not set
# CONFIG_PACKAGE_kmod-drm is not set
# CONFIG_PACKAGE_kmod-fb is not set
# CONFIG_PACKAGE_kmod-usb-storage is not set
# CONFIG_PACKAGE_kmod-usb-net is not set
