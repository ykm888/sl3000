# Target
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_sl3000-emmc=y

# Kernel features for Docker & Passwall2
CONFIG_KERNEL_KALLSYMS=y
CONFIG_KERNEL_SWAP=y
CONFIG_KERNEL_CGROUPS=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_PIDS=y
CONFIG_KERNEL_CGROUP_CPUACCT=y
CONFIG_KERNEL_CGROUP_PERF=y
CONFIG_KERNEL_CGROUP_SCHED=y
CONFIG_KERNEL_CPUSETS=y
CONFIG_KERNEL_MEMCG=y
CONFIG_KERNEL_MEMCG_SWAP=y
CONFIG_KERNEL_BLK_CGROUP=y
CONFIG_KERNEL_NET_CLS_CGROUP=y
CONFIG_KERNEL_NETPRIO_CGROUP=y
CONFIG_KERNEL_NAMESPACES=y
CONFIG_KERNEL_USER_NS=y
CONFIG_KERNEL_PID_NS=y
CONFIG_KERNEL_NET_NS=y
CONFIG_KERNEL_UTS_NS=y
CONFIG_KERNEL_IPC_NS=y
CONFIG_KERNEL_DEVPTS_MULTIPLE_INSTANCES=y

# Filesystem support
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-f2fs=y
CONFIG_PACKAGE_kmod-fs-overlay=y
CONFIG_PACKAGE_kmod-fs-btrfs=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_f2fs-tools=y
CONFIG_PACKAGE_btrfs-progs=y

# Block devices
CONFIG_PACKAGE_kmod-mmc=y
CONFIG_PACKAGE_kmod-mtd=y
CONFIG_PACKAGE_kmod-loop=y
CONFIG_PACKAGE_kmod-dm=y
CONFIG_PACKAGE_kmod-dm-crypt=y
CONFIG_PACKAGE_kmod-dm-snapshot=y
CONFIG_PACKAGE_kmod-dm-thin=y
CONFIG_PACKAGE_kmod-dm-mirror=y
CONFIG_PACKAGE_kmod-dm-log=y
CONFIG_PACKAGE_kmod-dm-raid=y

# Network core
CONFIG_PACKAGE_kmod-ppp=y
CONFIG_PACKAGE_kmod-pppoe=y
CONFIG_PACKAGE_kmod-pppox=y
CONFIG_PACKAGE_kmod-ipv6=y

# nftables for Passwall2
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-nft-fib=y
CONFIG_PACKAGE_kmod-nft-bridge=y
CONFIG_PACKAGE_kmod-nft-ip=y
CONFIG_PACKAGE_kmod-nft-ip6=y
CONFIG_PACKAGE_kmod-nft-netdev=y
CONFIG_PACKAGE_kmod-nft-socket=y
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nft-counter=y
CONFIG_PACKAGE_kmod-nft-limit=y
CONFIG_PACKAGE_kmod-nft-log=y
CONFIG_PACKAGE_kmod-nft-masq=y
CONFIG_PACKAGE_kmod-nft-redir=y
CONFIG_PACKAGE_kmod-nft-reject=y
CONFIG_PACKAGE_kmod-nft-queue=y
CONFIG_PACKAGE_kmod-nft-set=y
CONFIG_PACKAGE_kmod-nft-timeout=y
CONFIG_PACKAGE_kmod-nft-xfrm=y

# Switch / DSA
CONFIG_PACKAGE_kmod-dsa=y
CONFIG_PACKAGE_kmod-dsa-mt7530=y
CONFIG_PACKAGE_kmod-mt7530=y

# Docker & Container
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
CONFIG_PACKAGE_docker-compose=y
CONFIG_PACKAGE_containerd=y
CONFIG_PACKAGE_runc=y
CONFIG_PACKAGE_lxc=y
CONFIG_PACKAGE_lxc-templates=y
CONFIG_PACKAGE_cgroupfs-mount=y
CONFIG_PACKAGE_kmod-veth=y
CONFIG_PACKAGE_kmod-br-netfilter=y
CONFIG_PACKAGE_kmod-nf-nat=y
CONFIG_PACKAGE_kmod-nf-conntrack=y
CONFIG_PACKAGE_kmod-nf-conntrack-netlink=y
CONFIG_PACKAGE_kmod-nfnetlink=y
CONFIG_PACKAGE_kmod-nfnetlink-log=y
CONFIG_PACKAGE_kmod-nfnetlink-queue=y

# Passwall2 dependencies
CONFIG_PACKAGE_luci-app-passwall2=y
CONFIG_PACKAGE_xray-core=y
CONFIG_PACKAGE_chinadns-ng=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_pdnsd-alt=y
CONFIG_PACKAGE_ipt2socks=y
CONFIG_PACKAGE_redsocks2=y
CONFIG_PACKAGE_luci-compat=y

# Utilities
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_parted=y
CONFIG_PACKAGE_mount-utils=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_swap-utils=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y

# LuCI & Theme
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-theme-argon=y

# Disable unnecessary drivers
CONFIG_PACKAGE_kmod-sound-core=n
CONFIG_PACKAGE_kmod-usb-core=n
CONFIG_PACKAGE_kmod-usb2=n
CONFIG_PACKAGE_kmod-usb3=n
CONFIG_PACKAGE_kmod-bluetooth=n
CONFIG_PACKAGE_kmod-video-core=n
CONFIG_PACKAGE_kmod-printer=n
CONFIG_PACKAGE_kmod-gpu=n
CONFIG_PACKAGE_kmod-x86=n
