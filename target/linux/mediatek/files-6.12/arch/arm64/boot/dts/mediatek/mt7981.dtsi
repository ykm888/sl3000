// SPDX-License-Identifier: GPL-2.0-or-later OR MIT

/dts-v1/;

/ {
    compatible = "mediatek,mt7981";
    #address-cells = <2>;
    #size-cells = <2>;

    cpus {
        #address-cells = <1>;
        #size-cells = <0>;

        cpu0: cpu@0 {
            device_type = "cpu";
            compatible = "arm,cortex-a53";
            reg = <0>;
        };

        cpu1: cpu@1 {
            device_type = "cpu";
            compatible = "arm,cortex-a53";
            reg = <1>;
        };
    };

    timer {
        compatible = "arm,armv8-timer";
        /* <type, num, flags>，这里直接用裸数字，不用宏 */
        interrupts = <1 13 4>, <1 14 4>, <1 11 4>, <1 10 4>;
    };

    gic: interrupt-controller@c000000 {
        compatible = "arm,gic-v3";
        #interrupt-cells = <3>;
        interrupt-controller;
        reg = <0x0 0x0c000000 0x0 0x40000>,
              <0x0 0x0c100000 0x0 0x200000>;
    };

    uart0: serial@11002000 {
        compatible = "mediatek,mt7981-uart", "ns16550a";
        reg = <0x0 0x11002000 0x0 0x1000>;
        /* <type, num, flags>，不用 GIC_SPI 宏 */
        interrupts = <0 123 4>;
        clocks = <&topckgen 0>, <&infracfg 0>;
        clock-names = "baud", "bus";
        status = "okay";
    };

    pio: pinctrl@1001f000 {
        compatible = "mediatek,mt7981-pinctrl";
        reg = <0x0 0x1001f000 0x0 0x1000>;
        gpio-controller;
        #gpio-cells = <2>;
        status = "okay";
    };

    eth: ethernet@15100000 {
        compatible = "mediatek,mt7981-eth";
        reg = <0x0 0x15100000 0x0 0x20000>;
        interrupts = <0 200 4>;
        status = "okay";
    };

    mmc0: mmc@11230000 {
        compatible = "mediatek,mt7981-mmc";
        reg = <0x0 0x11230000 0x0 0x1000>;
        interrupts = <0 143 4>;
        clocks = <&topckgen 1>, <&infracfg 1>;
        clock-names = "source", "hclk";
        bus-width = <8>;
        status = "okay";
    };

    topckgen: clock-controller@10000000 {
        compatible = "mediatek,mt7981-topckgen";
        reg = <0x0 0x10000000 0x0 0x1000>;
    };

    infracfg: clock-controller@10001000 {
        compatible = "mediatek,mt7981-infracfg";
        reg = <0x0 0x10001000 0x0 0x1000>;
    };
};
